<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="resource.html">
</head>
<body>
	<input type="hidden" id="contextPath" name="contextPath"
		th:value="${#request.getContextPath()}">
	<fieldset class="layui-elem-field layui-field-title"
		style="margin-top: 20px;">
		<legend>权限管理<i class="layui-icon">&#xe511;</i></legend>
	</fieldset>
	<div class="main-contain">
		<div class="layui-row layui-col-space15">
			<div class="layui-col-md12">
				<div class="layui-card" style="border-top: 3px solid #005AA7;border-radius:6px;">
					<div class="layui-card-header">权限操作</div>
					<div class="layui-card-body">
						<button class="layui-btn layui-btn-warm" onclick="savePermissionForward()">
							<i class="layui-icon">&#xe505;</i>添加权限
						</button>
					</div>
				</div>
			</div>
			<div class="layui-col-md12">
				<div class="layui-card">
					<div class="layui-card-header">查询结果</div>
					<div class="layui-card-body" style="height: 540px;">
						<div style="height: 530px;overflow: auto;">
							<table class="layui-table layui-form">
								<thead>
									<tr>
										<th>序号</th>
										<th>权限ID</th>
										<th>权限名称</th>
										<th>权限CODE</th>
										<th>权限URL</th>
										<th style="text-align: center;">操作</th>
								</thead>
								<tbody class="x-cate">
									<div th:each="permission,iterStat: ${permissionList}">
										<tr th:cate-id='${permission.permissionId}' th:fid="${permission.parentId}">
											<td th:text="${iterStat.index+1}"></td>
											<td th:text="${permission.permissionId}"></td>
											<td><i class="layui-icon x-show" status='true'>&#xe623;</i><span th:text="${permission.permissionName}"></span></td>
											<td th:text="${permission.permissionCode}"></td>
											<td th:text="${permission.permissionUrl}"></td>
											<td align="center">
												<button th:id="${permission.permissionId}" class="layui-btn layui-btn-primary layui-btn-xs" onclick="viewPermissionInfo(this);">
													<i class="layui-icon">&#xe679;</i>查看
												</button>
												<button th:id="${permission.permissionId}" class="layui-btn layui-btn layui-btn-xs" onclick="updatePermissionForward(this)">
													<i class="layui-icon">&#xe62b;</i>编辑
												</button>
												<button th:id="${permission.permissionId}" class="layui-btn-danger layui-btn layui-btn-xs" onclick="deletePermission(this)">
													<i class="layui-icon">&#xe640;</i>删除
												</button>
											</td>
										</tr>
										<div th:each="node,index: ${permission.permissions}">
										<tr th:cate-id='${node.permissionId}' th:fid="${permission.permissionId}">
											<td><span style="margin-left: 40px;" th:text="${iterStat.index+1}+'.'+${index.index+1}"></span></td>
											<td th:text="${node.permissionId}"></td>
											<td><span style="margin-left: 40px;" th:text="${node.permissionName}"></span></td>
											<td><span style="margin-left: 40px;" th:text="${node.permissionCode}"></span></td>
											<td th:text="${node.permissionUrl}"></td>
											<td align="center">
												<button th:id="${node.permissionId}" class="layui-btn layui-btn-primary layui-btn-xs" onclick="viewPermissionInfo(this);">
													<i class="layui-icon">&#xe679;</i>查看
												</button>
												<button th:id="${node.permissionId}" class="layui-btn layui-btn layui-btn-xs" onclick="updatePermissionForward(this)">
													<i class="layui-icon">&#xe62b;</i>编辑
												</button>
												<button th:id="${node.permissionId}" class="layui-btn-danger layui-btn layui-btn-xs" onclick="deletePermission(this)">
													<i class="layui-icon">&#xe640;</i>删除
												</button>
											</td>
										</tr>
										</div>
									</div>
								</tbody>
							</table>
						</div>
						<hr>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
